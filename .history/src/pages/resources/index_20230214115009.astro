---
import { Picture } from "@astrojs/image/components";
import Container from "@components/container.astro";
import Sectionhead from "@components/sectionhead.astro";
import Layout from "@layouts/Layout.astro";
import { getFormattedDate } from "@utils/all";
import { log } from "astro/dist/core/logger/core";
import { getCollection } from "astro:content";
import { useSanityClient, groq } from "astro-sanity";

import Card from "@components/card.astro";

const blogEntries = await getCollection("resources");

export async function getFirstBlogPost() {
  const query = groq`*[_type == "brand"]`;
  const firstPost = await useSanityClient().fetch(query);
  console.log(firstPost);
  return firstPost;
}

let brands = await getFirstBlogPost()
---

<Layout title="Resources">
  <Container>
    <Sectionhead>
      <Fragment slot="title">Resources</Fragment>
      <Fragment slot="desc">
        We write about building startups and thoughts going on our mind.
      </Fragment>
    </Sectionhead>
    <main class="mt-16">
      <div class="bg-white">
        <div class="mx-auto max-w-2xl py-16 px-4 sm:py-24 sm:px-6 lg:max-w-7xl lg:px-8">
          <h2 class="sr-only">Brands</h2>

          <div class="grid grid-cols-1 gap-y-4 sm:grid-cols-2 sm:gap-x-6 sm:gap-y-10 lg:grid-cols-3 lg:gap-x-8">
            {items.map((item) => (
              <div class="flex justify-center">
                <div class="block p-6 rounded-lg shadow-lg bg-white max-w-sm">
                  <h5 class="text-gray-900 text-xl leading-tight font-medium mb-2">{item.title}</h5>
                  <p class="text-gray-700 text-base mb-4">
                    {item.description}
                  </p>
                  <button type="button" class=" inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out">Button</button>
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>
    </main>
  </Container>
</Layout>
